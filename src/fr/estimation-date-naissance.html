---
title: Date de naissance
---

<main>
	<form action="../">
		<section>
			<img src="/assets/calendar.png" alt="" width="256" height="256" />
			<h1>Date de naissance</h1>

			<label>
				Saisir la date du terme estimée&nbsp;:
				<input type="date" name="date-of-birth" id="date-of-birth" placeholder="jour/mois/annee">
			</label>

			<p>Elle peut être modifiée à tout moment depuis le menu principal.</p>
		</section>
		<footer>
			<input type="submit" value="Plus tard" class="action secondary">
			<input type="submit" value="Continuer" class="action primary">
		</footer>
	</form>
</main>

<script>
	// eslint-disable-next-line no-undef
	var hasCookieConsent = hasCookie("cookie-consent", "true")

	function saveDateOfBirth(submitEvent) {
		var dateOfBirth = document.getElementById("date-of-birth")

		if (submitEvent.submitter && submitEvent.submitter.value === "Plus tard") {
			dateOfBirth.value = ''
		}

		if (hasCookieConsent) {
			// eslint-disable-next-line no-undef
			setCookie("date-of-birth", dateOfBirth.value)
		}
	}

	var form = document.getElementsByTagName("form")[0]
	form.addEventListener("submit", saveDateOfBirth)

	function initDateOfBirth() {
		// eslint-disable-next-line no-undef
		var dateOfBirth = getCookie("date-of-birth")

		if (dateOfBirth && !isNaN(new Date(dateOfBirth))) {
			document.getElementById("date-of-birth").value = dateOfBirth
		}
	}

	addEventListener('load', initDateOfBirth);
</script>
