---
title: Utilisation des cookies
---

<main>
	CONSENTEMENT COOKIES

	<form action="../estimation-date-naissance">
		<input type="submit" value="Accepter">
		<input type="submit" value="Refuser">
	</form>
</main>

<script>
	var hasCookieConsent = hasCookie("cookie-consent", "true")
	var hasDateOfBirth = hasCookie("date-of-birth")

	var overrideCookieConsent = hasSearchParam("reset")

	if (hasCookieConsent && !overrideCookieConsent) {
		var homePage = '../estimation-date-naissance'
		if (hasDateOfBirth) {
			homePage = '../'
		}
		window.location.assign(homePage)
	}

	function saveCookieConsent(submitEvent) {
		if (submitEvent.submitter && submitEvent.submitter.value === "Accepter") {
			setCookie("cookie-consent", true)
			setCookie("cookie-consent-date", new Date().toString())
		} else {
			var alreadyExpired = "Thu, 01 Jan 1970 00:00:00 GMT"
			setCookie("cookie-consent", false, alreadyExpired)
			setCookie("cookie-consent-date", undefined, alreadyExpired)
			setCookie("date-of-birth", undefined, alreadyExpired)
		}
	}

	var form = document.getElementsByTagName("form")[0]
	form.addEventListener("submit", saveCookieConsent)
</script>
